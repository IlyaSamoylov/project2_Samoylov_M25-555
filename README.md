# –ü—Ä–æ–µ–∫—Ç 2 ‚Äî –ö–æ–Ω—Å–æ–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ JSON.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø–∞–∫–µ—Ç–∞ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ –≤ —Å–∏—Å—Ç–µ–º—É:
```bash
python -m pip install dist/*.whl

```

–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π:
```
project
```

## ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã:

| –ö–æ–º–∞–Ω–¥–∞                                         | –û–ø–∏—Å–∞–Ω–∏–µ               |
| ----------------------------------------------- | ---------------------- |
| `create_table <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> <—Å—Ç–æ–ª–±–µ—Ü1:—Ç–∏–ø> ...` | —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É        |
| `list_tables`                                   | –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü |
| `drop_table <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã>`                      | —É–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É        |
| `help`                                          | —Å–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è  |
| `exit`                                          | –≤—ã–π—Ç–∏ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã     |

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö: `int`, `str`, `bool`.

## üíª –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

```
>>> create_table users name:str age:int is_active:bool
–¢–∞–±–ª–∏—Ü–∞ "users" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏: ID:int, name:str, age:int, is_active:bool
>>> list_tables
- users
>>> drop_table users 
–¢–∞–±–ª–∏—Ü–∞ "users" —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞.
```


---

## üßæ –§–∞–π–ª –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ —Ç–∞–±–ª–∏—Ü–∞—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `db_meta.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.  
–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:
```json
{     
	"users": {        
		"ID": "int",
		"name": "str",
		"age": "int",
		"is_active": "bool"
	}
}
```


---

## üß∞ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
    
    `make install`
    
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º:
    
    `make lint`
    
- –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞:
    
    `make build`
    
- –¢–µ—Å—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏):
    
    `make publish`

## CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
| –ö–æ–º–∞–Ω–¥–∞                                                               | –û–ø–∏—Å–∞–Ω–∏–µ             |
| --------------------------------------------------------------------- | -------------------- |
| `<command> insert into <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> values (...)`                    | –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å      |
| `<command> select from <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> [where <—Å—Ç–æ–ª–±–µ—Ü> = <–∑–Ω–∞—á–µ–Ω–∏–µ>]`  | –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø–∏—Å–∏      |
| `<command> update <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> set <—Å—Ç–æ–ª–±–µ—Ü> = <–∑–Ω–∞—á–µ–Ω–∏–µ> where ...` | –æ–±–Ω–æ–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É     |
| `<command> delete from <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> where <—Å—Ç–æ–ª–±–µ—Ü> = <–∑–Ω–∞—á–µ–Ω–∏–µ>`    | —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å       |
| `<command> info <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã>`                                        | –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞–±–ª–∏—Ü–µ |

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –æ–±—ë—Ä–Ω—É—Ç—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º `@handle_db_errors`.  
–û–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏ –∫—Ä–∞—Å–∏–≤–æ –≤—ã–≤–æ–¥–∏—Ç:
- `FileNotFoundError` ‚Äî —Ñ–∞–π–ª –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω,
- `KeyError` ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞/—Å—Ç–æ–ª–±–µ—Ü,
- `ValueError` ‚Äî –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏,
- –¥—Ä—É–≥–∏–µ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
–û–ø–µ—Ä–∞—Ü–∏–∏, –∏–∑–º–µ–Ω—è—é—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É/–¥–∞–Ω–Ω—ã–µ (—É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã, —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π), –æ–±—ë—Ä–Ω—É—Ç—ã –≤ `@confirm_action("<–æ–ø–∏—Å–∞–Ω–∏–µ>")`.  
–ü—Ä–∏–º–µ—Ä: –ø—Ä–∏ `drop_table` –ø–æ—è–≤–∏—Ç—Å—è:
```bash
–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å "—É–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É"? [y/n]:
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
–î–µ–∫–æ—Ä–∞—Ç–æ—Ä `@log_time` –∑–∞–º–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—è–∂—ë–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (`select`, `insert`) –∏ –≤—ã–≤–æ–¥–∏—Ç:
```bash
–§—É–Ω–∫—Ü–∏—è 'select' –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –∑–∞ 0.012 —Å–µ–∫—É–Ω–¥.
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–∑–∞–º—ã–∫–∞–Ω–∏–µ)
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `create_cacher()` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `cache_result(key, value_func)`.  
`select()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Ç–∞–±–ª–∏—Ü—ã (PrettyTable). –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–¥–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è:
```bash
[–ö–≠–®] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –∫–ª—é—á–∞: '...'
```
–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö (insert, update, delete, drop_table) –∫—ç—à –æ—á–∏—â–∞–µ—Ç—Å—è –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –∫—ç—à–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö .
